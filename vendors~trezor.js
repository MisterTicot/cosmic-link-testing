(window.webpackJsonp=window.webpackJsonp||[]).push([[7],Array(21).concat([function(e,t,n){"use strict";var r,o=n(0),a=t,s=n(159).default,i=n(87),c=n(187);function u(e){var t;return o.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Attempting Trezor connection..."),r=s.stellarGetAddress({path:e,showOnTrezor:!1}),n.next=4,o.awrap(r);case 4:if(!(t=n.sent).success){n.next=11;break}a.path=e,a.publicKey=t.payload.address,l(),n.next=12;break;case 11:throw new Error(t.payload.error);case 12:case"end":return n.stop()}}))}function l(){console.log("Trezor connected"),"function"==typeof a.onConnect&&a.onConnect()}function f(){console.log("Trezor disconnected"),r=null,["path","publicKey"].forEach((function(e){return a[e]=null})),"function"==typeof a.onDisconnect&&a.onDisconnect()}a.publicKey=null,a.path=null,a.register=function(e,t){s.manifest({email:t,appUrl:e})},a.register("@cosmic-plus/trezor-wallet","mister.ticot@cosmic.plus"),a.connect=function(e){var t;return o.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e||"".concat("m/44'/148'","/0'"),"number"!=typeof e){n.next=5;break}if(!(e<1)){n.next=4;break}throw new Error("Account number starts at 1.");case 4:t="".concat("m/44'/148'","/").concat(e-1,"'");case 5:return a.path&&a.path!==t&&a.disconnect(),r||(r=u(t)),n.abrupt("return",r);case 8:case"end":return n.stop()}}))},a.sign=function(e){var t,n;return o.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.publicKey){r.next=2;break}throw new Error("No Trezor connected.");case 2:return r.next=4,o.awrap(s.stellarSignTransaction({path:a.path,networkPassphrase:e.networkPassphrase,transaction:new c(e)}));case 4:if((t=r.sent).success){r.next=7;break}throw new Error(t.payload.error);case 7:n=i.from(t.payload.signature,"hex"),e.addSignature(a.publicKey,n.toString("base64")),console.log("signed",e);case 10:case"end":return r.stop()}}))},a.disconnect=function(){try{s.cancel()}catch(e){}f()},a.newAccount=function(){var e,t,n,r=arguments;return o.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"https://horizon.stellar.org",s.next=3,o.awrap(a.scan({horizon:e,attempts:1,includeMerged:!0}));case 3:return t=s.sent,n=t[t.length-1],s.next=7,o.awrap(a.connect(n?n.account+1:1));case 7:case"end":return s.stop()}}))},a.scan=function(e){var t,r,s,i,c,u,l,f,p,d,E,h,m,v,y,b;return o.async((function(w){for(;;)switch(w.prev=w.next){case 0:t=e.horizon,r=void 0===t?"https://horizon.stellar.org":t,s=e.attempts,i=void 0===s?3:s,c=e.includeMerged,u=void 0!==c&&c,"string"==typeof r&&(l=n(63),f=l.Server,r=new f(r)),p=[],d=0,E=1,h=[];case 4:if(!(d<i)){w.next=20;break}if(!(h.length<E)){w.next=11;break}return w.t0=h,w.next=9,o.awrap(a.getPublicKeys(E,5*i));case 9:w.t1=w.sent,h=w.t0.concat.call(w.t0,w.t1);case 11:return m=h[E-1],v=r.effects().forAccount(m.publicKey),w.next=15,o.awrap(v.order("desc").limit(1).call().catch((function(){})));case 15:(y=w.sent)?(d=0,b=y.records[0],m.state="merge_account"===b.type?"merged":"open",(u||"open"===m.state)&&p.push(m)):d++,E++,w.next=4;break;case 20:return w.abrupt("return",p);case 21:case"end":return w.stop()}}))},a.getPublicKeys=function(){var e,t,n,r,i,c=arguments;return o.async((function(u){for(;;)switch(u.prev=u.next){case 0:for(e=c.length>0&&void 0!==c[0]?c[0]:1,t=c.length>1&&void 0!==c[1]?c[1]:1,n=[],r=e;r<e+t;r++)n.push({path:a.connect.path(r),showOnTrezor:!1});return u.next=6,o.awrap(s.stellarGetAddress({bundle:n}));case 6:return i=u.sent,u.abrupt("return",i.payload.map((function(t,n){return{account:e+n,publicKey:t.address,path:t.serializedPath}})));case 8:case"end":return u.stop()}}))},s.on("DEVICE_EVENT",(function(e){console.log("DEVICE_EVENT",console.log(e)),"device-disconnect"===e.type?f():"device-connect"===e.type&&l()})),a.onConnect=null,a.onDisconnect=null},,,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},,,,,,,,,,,,,,function(e,t,n){var r=n(41);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}},,,,function(e,t,n){"use strict";t.__esModule=!0,t.CALL=t.ERROR=t.INIT=t.LOADED=t.BOOTSTRAP=void 0;t.BOOTSTRAP="iframe-bootstrap";t.LOADED="iframe-loaded";t.INIT="iframe-init";t.ERROR="iframe-error";t.CALL="iframe-call"},,,,function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,a,s,i;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,i=c,console&&console.warn&&console.warn(i)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function E(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)a(c,this,t);else{var u=c.length,l=h(c,u);for(n=0;n<u;++n)a(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,p(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,p(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,a,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(o=a[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},i.prototype.listenerCount=E,i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0,t.ADDRESS_VALIDATION=t.BUNDLE_PROGRESS=t.LOGIN_CHALLENGE_RESPONSE=t.LOGIN_CHALLENGE_REQUEST=t.CUSTOM_MESSAGE_RESPONSE=t.CUSTOM_MESSAGE_REQUEST=t.CHANGE_SETTINGS=t.RECEIVE_WORD=t.RECEIVE_FEE=t.RECEIVE_ACCOUNT=t.CHANGE_ACCOUNT=t.RECEIVE_DEVICE=t.RECEIVE_PASSPHRASE=t.RECEIVE_PIN=t.RECEIVE_CONFIRMATION=t.RECEIVE_PERMISSION=t.FIRMWARE_PROGRESS=t.REQUEST_WORD=t.REQUEST_BUTTON=t.INSUFFICIENT_FUNDS=t.UPDATE_CUSTOM_FEE=t.SELECT_FEE=t.SELECT_ACCOUNT=t.SELECT_DEVICE=t.SET_OPERATION=t.LOADING=t.CONNECT=t.INVALID_PASSPHRASE_ACTION=t.INVALID_PASSPHRASE=t.REQUEST_PASSPHRASE_ON_DEVICE=t.REQUEST_PASSPHRASE=t.INVALID_PIN=t.REQUEST_PIN=t.REQUEST_CONFIRMATION=t.REQUEST_PERMISSION=t.CLOSE_UI_WINDOW=t.REQUEST_UI_WINDOW=t.DEVICE_NEEDS_BACKUP=t.FIRMWARE_NOT_INSTALLED=t.FIRMWARE_NOT_COMPATIBLE=t.FIRMWARE_NOT_SUPPORTED=t.FIRMWARE_OUTDATED=t.FIRMWARE_OLD=t.SEEDLESS=t.INITIALIZE=t.REQUIRE_MODE=t.NOT_IN_BOOTLOADER=t.BOOTLOADER=t.TRANSPORT=void 0;t.TRANSPORT="ui-no_transport";t.BOOTLOADER="ui-device_bootloader_mode";t.NOT_IN_BOOTLOADER="ui-device_not_in_bootloader_mode";t.REQUIRE_MODE="ui-device_require_mode";t.INITIALIZE="ui-device_not_initialized";t.SEEDLESS="ui-device_seedless";t.FIRMWARE_OLD="ui-device_firmware_old";t.FIRMWARE_OUTDATED="ui-device_firmware_outdated";t.FIRMWARE_NOT_SUPPORTED="ui-device_firmware_unsupported";t.FIRMWARE_NOT_COMPATIBLE="ui-device_firmware_not_compatible";t.FIRMWARE_NOT_INSTALLED="ui-device_firmware_not_installed";t.DEVICE_NEEDS_BACKUP="ui-device_needs_backup";t.REQUEST_UI_WINDOW="ui-request_window";t.CLOSE_UI_WINDOW="ui-close_window";t.REQUEST_PERMISSION="ui-request_permission";t.REQUEST_CONFIRMATION="ui-request_confirmation";t.REQUEST_PIN="ui-request_pin";t.INVALID_PIN="ui-invalid_pin";t.REQUEST_PASSPHRASE="ui-request_passphrase";t.REQUEST_PASSPHRASE_ON_DEVICE="ui-request_passphrase_on_device";t.INVALID_PASSPHRASE="ui-invalid_passphrase";t.INVALID_PASSPHRASE_ACTION="ui-invalid_passphrase_action";t.CONNECT="ui-connect";t.LOADING="ui-loading";t.SET_OPERATION="ui-set_operation";t.SELECT_DEVICE="ui-select_device";t.SELECT_ACCOUNT="ui-select_account";t.SELECT_FEE="ui-select_fee";t.UPDATE_CUSTOM_FEE="ui-update_custom_fee";t.INSUFFICIENT_FUNDS="ui-insufficient_funds";t.REQUEST_BUTTON="ui-button";t.REQUEST_WORD="ui-request_word";t.FIRMWARE_PROGRESS="ui-firmware-progress";t.RECEIVE_PERMISSION="ui-receive_permission";t.RECEIVE_CONFIRMATION="ui-receive_confirmation";t.RECEIVE_PIN="ui-receive_pin";t.RECEIVE_PASSPHRASE="ui-receive_passphrase";t.RECEIVE_DEVICE="ui-receive_device";t.CHANGE_ACCOUNT="ui-change_account";t.RECEIVE_ACCOUNT="ui-receive_account";t.RECEIVE_FEE="ui-receive_fee";t.RECEIVE_WORD="ui-receive_word";t.CHANGE_SETTINGS="ui-change_settings";t.CUSTOM_MESSAGE_REQUEST="ui-custom_request";t.CUSTOM_MESSAGE_RESPONSE="ui-custom_response";t.LOGIN_CHALLENGE_REQUEST="ui-login_challenge_request";t.LOGIN_CHALLENGE_RESPONSE="ui-login_challenge_response";t.BUNDLE_PROGRESS="ui-bundle_progress";t.ADDRESS_VALIDATION="ui-address_validation"},,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.BLOCKCHAIN_EVENT=t.RESPONSE_EVENT=t.TRANSPORT_EVENT=t.DEVICE_EVENT=t.UI_EVENT=t.CORE_EVENT=void 0;t.CORE_EVENT="CORE_EVENT";t.UI_EVENT="UI_EVENT";t.DEVICE_EVENT="DEVICE_EVENT";t.TRANSPORT_EVENT="TRANSPORT_EVENT";t.RESPONSE_EVENT="RESPONSE_EVENT";t.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT"},function(e,t,n){"use strict";t.__esModule=!0,t.START_PENDING=t.DISABLE_WEBUSB=t.RECONNECT=t.REQUEST=t.STREAM=t.UPDATE=t.ERROR=t.START=void 0;t.START="transport-start";t.ERROR="transport-error";t.UPDATE="transport-update";t.STREAM="transport-stream";t.REQUEST="transport-request_device";t.RECONNECT="transport-reconnect";t.DISABLE_WEBUSB="transport-disable_webusb";t.START_PENDING="transport-start_pending"},function(e,t,n){"use strict";t.__esModule=!0,t.CLOSE_WINDOW=t.CANCEL_POPUP_REQUEST=t.CLOSED=t.HANDSHAKE=t.EXTENSION_USB_PERMISSIONS=t.ERROR=t.INIT=t.LOADED=t.BOOTSTRAP=void 0;t.BOOTSTRAP="popup-bootstrap";t.LOADED="popup-loaded";t.INIT="popup-init";t.ERROR="popup-error";t.EXTENSION_USB_PERMISSIONS="open-usb-permissions";t.HANDSHAKE="popup-handshake";t.CLOSED="popup-closed";t.CANCEL_POPUP_REQUEST="ui-cancel-popup-request";t.CLOSE_WINDOW="window.close"},function(e,t,n){"use strict";var r=n(6);r.isBrowser?void 0===window.StellarSdk?console.error("Missing dependency: StellarSdk"):e.exports=window.StellarSdk:e.exports=r.nodeRequire("stellar-sdk")},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.UNREADABLE=t.WAIT_FOR_SELECTION=t.WORD=t.PASSPHRASE_ON_DEVICE=t.PASSPHRASE=t.PIN=t.BUTTON=t.LOADING=t.USED_ELSEWHERE=t.RELEASED=t.ACQUIRED=t.RELEASE=t.ACQUIRE=t.CHANGED=t.DISCONNECT=t.CONNECT_UNACQUIRED=t.CONNECT=void 0;t.CONNECT="device-connect";t.CONNECT_UNACQUIRED="device-connect_unacquired";t.DISCONNECT="device-disconnect";t.CHANGED="device-changed";t.ACQUIRE="device-acquire";t.RELEASE="device-release";t.ACQUIRED="device-acquired";t.RELEASED="device-released";t.USED_ELSEWHERE="device-used_elsewhere";t.LOADING="device-loading";t.BUTTON="button";t.PIN="pin";t.PASSPHRASE="passphrase";t.PASSPHRASE_ON_DEVICE="passphrase_on_device";t.WORD="word";t.WAIT_FOR_SELECTION="device-wait_for_selection";t.UNREADABLE="unreadable-device"},function(e,t,n){"use strict";t.__esModule=!0,t.NOTIFICATION=t.BLOCK=t.CONNECT=t.ERROR=void 0;t.ERROR="blockchain-error";t.CONNECT="blockchain-connect";t.BLOCK="blockchain-block";t.NOTIFICATION="blockchain-notification"},function(e,t,n){"use strict";var r=n(39);t.__esModule=!0;n(60),r(n(61)),r(n(62)),r(n(43)),r(n(49)),r(n(80)),r(n(160));var o=r(n(161));Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=o[e])}));r(n(162)),r(n(163)),r(n(164)),r(n(165)),r(n(166)),r(n(167)),r(n(168)),r(n(169)),r(n(170));var a=n(171);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=a[e])}))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";var r=n(25);t.__esModule=!0,t.getOrigin=t.httpRequest=void 0;var o=r(n(0));n(175);t.httpRequest=function(e,t){var n,r;return o.default.async((function(a){for(;;)switch(a.prev=a.next){case 0:return void 0===t&&(t="text"),a.next=3,o.default.awrap(fetch(e,{credentials:"same-origin"}));case 3:if(!(n=a.sent).ok){a.next=23;break}if("json"!==t){a.next=12;break}return a.next=8,o.default.awrap(n.text());case 8:return r=a.sent,a.abrupt("return",JSON.parse(r));case 12:if("binary"!==t){a.next=18;break}return a.next=15,o.default.awrap(n.arrayBuffer());case 15:return a.abrupt("return",a.sent);case 18:return a.next=20,o.default.awrap(n.text());case 20:return a.abrupt("return",a.sent);case 21:a.next=24;break;case 23:throw new Error("httpRequest error: "+e+" "+n.statusText);case 24:case"end":return a.stop()}}))};t.getOrigin=function(e){if(0===e.indexOf("file://"))return"file://";var t=e.match(/^.+\:\/\/[^\/]+/);return Array.isArray(t)&&t.length>0?t[0]:"unknown"}},function(e,t,n){"use strict";var r=n(25);t.__esModule=!0,t.create=function(e,t){var n,r=function(e){},a=function(e){},s=new Promise((function(t,s){return o.default.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=t,a=s,"function"!=typeof e){i.next=11;break}return i.prev=3,i.next=6,o.default.awrap(e());case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),s(i.t0);case 11:"string"==typeof e&&(n=e);case 12:case"end":return i.stop()}}),null,null,[[3,8]])}));return{id:n,device:t,resolve:r,reject:a,promise:s}},t.createAsync=function(e){var t=function(e){},n=function(e){},r=new Promise((function(e,r){t=e,n=r}));return{resolve:t,reject:n,promise:r,run:function(){return o.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.awrap(e());case 2:case"end":return t.stop()}})),r}}},t.resolveTimeoutPromise=function(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))},t.rejectTimeoutPromise=function(e,t){return new Promise((function(n,r){setTimeout((function(){r(t)}),e)}))};var o=r(n(0))},function(e,t,n){"use strict";var r=n(25);t.__esModule=!0,t.NO_COIN_INFO=t.BACKEND_NO_URL=t.backendNotSupported=t.WEBUSB_ERROR_MESSAGE=t.INVALID_PIN_ERROR_MESSAGE=t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE=t.INVALID_STATE=t.CALL_OVERRIDE=t.INITIALIZATION_FAILED=t.DEVICE_USED_ELSEWHERE=t.PERMISSIONS_NOT_GRANTED=t.POPUP_CLOSED=t.INVALID_PARAMETERS=t.DEVICE_CALL_IN_PROGRESS=t.DEVICE_NOT_FOUND=t.WRONG_TRANSPORT_CONFIG=t.NO_TRANSPORT=t.MANAGEMENT_NOT_ALLOWED=t.MANIFEST_NOT_SET=t.BROWSER_NOT_SUPPORTED=t.POPUP_TIMEOUT=t.IFRAME_TIMEOUT=t.IFRAME_INITIALIZED=t.IFRAME_BLOCKED=t.NO_IFRAME=t.invalidParameter=t.TrezorError=void 0;var o=r(n(83)),a=function(e){function t(t,n){var r;return(r=e.call(this,n)||this).code=t,r.message=n,r}return(0,o.default)(t,e),t}((0,r(n(177)).default)(Error));t.TrezorError=a;var s=function(e){return new a("Connect_InvalidParameter",e)};t.invalidParameter=s;var i=new a(100,"TrezorConnect not yet initialized");t.NO_IFRAME=i;var c=new a("iframe_blocked","TrezorConnect iframe was blocked");t.IFRAME_BLOCKED=c;var u=new a(101,"TrezorConnect has been already initialized");t.IFRAME_INITIALIZED=u;var l=new a(102,"Iframe timeout");t.IFRAME_TIMEOUT=l;var f=new a(103,"Popup timeout");t.POPUP_TIMEOUT=f;var p=new a(104,"Browser not supported");t.BROWSER_NOT_SUPPORTED=p;var d=new a(105,"Manifest not set. Read more at https://github.com/trezor/connect/blob/develop/docs/index.md");t.MANIFEST_NOT_SET=d;var E=new a(105,"Management method not allowed for this configuration");t.MANAGEMENT_NOT_ALLOWED=E;var h=new a(500,"Transport is missing");t.NO_TRANSPORT=h;var m=new a(5002,"Wrong config response");t.WRONG_TRANSPORT_CONFIG=m;var v=new a(501,"Device not found");t.DEVICE_NOT_FOUND=v;var y=new a(503,"Device call in progress");t.DEVICE_CALL_IN_PROGRESS=y;var b=new a(504,"Invalid parameters");t.INVALID_PARAMETERS=b;var w=new Error("Popup closed");t.POPUP_CLOSED=w;var _=new a(403,"Permissions not granted");t.PERMISSIONS_NOT_GRANTED=_;var g=new a(700,"Device is used in another window");t.DEVICE_USED_ELSEWHERE=g;var S=new a("Failure_Initialize","Initialization failed");t.INITIALIZATION_FAILED=S;var T=new a("Failure_ActionOverride","override");t.CALL_OVERRIDE=T;var O=new a("Failure_PassphraseState","Passphrase is incorrect");t.INVALID_STATE=O;t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE="wrong previous session";t.INVALID_PIN_ERROR_MESSAGE="PIN invalid";t.WEBUSB_ERROR_MESSAGE="NetworkError: Unable to claim interface.";t.backendNotSupported=function(e){return new a("backend_error","BlockchainLink support not found for "+e)};var x=new a("Backend_init","Url not found");t.BACKEND_NO_URL=x;var N=s("Coin not found.");t.NO_COIN_INFO=N},function(e,t,n){"use strict";var r=n(6);if(r.isBrowser){var o=new(n(63).Memo)("hash","0000000000000000000000000000000000000000000000000000000000000000");e.exports=o.value.__proto__.constructor}else e.exports=r.nodeRequire("safe-buffer").Buffer},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(39),o=n(25);t.__esModule=!0;var a={UI_EVENT:!0,DEVICE_EVENT:!0,RESPONSE_EVENT:!0,TRANSPORT_EVENT:!0,BLOCKCHAIN_EVENT:!0,TRANSPORT:!0,IFRAME:!0,UI:!0,DEVICE:!0,BLOCKCHAIN:!0};t.BLOCKCHAIN=t.DEVICE=t.UI=t.IFRAME=t.TRANSPORT=t.default=void 0;var s=o(n(0)),i=o(n(48)),c=n(60);t.UI_EVENT=c.UI_EVENT,t.DEVICE_EVENT=c.DEVICE_EVENT,t.RESPONSE_EVENT=c.RESPONSE_EVENT,t.TRANSPORT_EVENT=c.TRANSPORT_EVENT,t.BLOCKCHAIN_EVENT=c.BLOCKCHAIN_EVENT;var u=r(n(61));t.TRANSPORT=u;var l=r(n(43));t.IFRAME=l;var f=r(n(49));t.UI=f;var p=r(n(80));t.DEVICE=p;var d=r(n(81));t.BLOCKCHAIN=d;r(n(82));var E=n(172),h=n(185);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||(t[e]=h[e]))}));var m=n(186);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||(t[e]=m[e]))}));var b=function(){};(0,i.default)(b,"manifest",(function(e){(0,E.manifest)(e)})),(0,i.default)(b,"getSettings",(function(){return s.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.awrap((0,E.getSettings)());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))})),(0,i.default)(b,"init",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.init)(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"on",(function(e,t){E.eventEmitter.on(e,t)})),(0,i.default)(b,"off",(function(e,t){E.eventEmitter.removeListener(e,t)})),(0,i.default)(b,"uiResponse",(function(e){(0,E.uiResponse)(e)})),(0,i.default)(b,"blockchainDisconnect",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"blockchainDisconnect"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"blockchainEstimateFee",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"blockchainEstimateFee"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"blockchainGetTransactions",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"blockchainGetTransactions"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"blockchainSubscribe",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"blockchainSubscribe"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"blockchainUnsubscribe",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"blockchainUnsubscribe"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"customMessage",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.customMessage)(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"requestLogin",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.requestLogin)(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"resetDevice",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"resetDevice"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"cardanoGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"cardanoGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"cardanoGetPublicKey",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"cardanoGetPublicKey"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"cardanoSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"cardanoSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"cipherKeyValue",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"cipherKeyValue"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"composeTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"composeTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"debugLinkDecision",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"debugLinkDecision"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"debugLinkGetState",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"debugLinkGetState"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"ethereumGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"ethereumGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"ethereumGetPublicKey",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"ethereumGetPublicKey"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"ethereumSignMessage",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"ethereumSignMessage"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"ethereumSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"ethereumSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"ethereumVerifyMessage",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"ethereumVerifyMessage"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"getAccountInfo",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"getAccountInfo"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"getAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"getAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"getDeviceState",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"getDeviceState"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"getFeatures",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"getFeatures"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"getPublicKey",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"getPublicKey"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"liskGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"liskGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"liskGetPublicKey",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"liskGetPublicKey"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"liskSignMessage",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"liskSignMessage"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"liskSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"liskSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"liskVerifyMessage",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"liskVerifyMessage"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"nemGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"nemGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"nemSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"nemSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"pushTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"pushTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"rippleGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"rippleGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"rippleSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"rippleSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"signMessage",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"signMessage"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"signTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"signTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"stellarGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"stellarGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"stellarSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"stellarSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"tezosGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"tezosGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"tezosGetPublicKey",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"tezosGetPublicKey"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"tezosSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"tezosSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"eosGetPublicKey",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"eosGetPublicKey"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"eosSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"eosSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"binanceGetAddress",(function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=E.eventEmitter.listenerCount(f.ADDRESS_VALIDATION)>0,n.next=3,s.default.awrap((0,E.call)(y({method:"binanceGetAddress"},e,{useEventListener:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))})),(0,i.default)(b,"binanceGetPublicKey",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"binanceGetPublicKey"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"binanceSignTransaction",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"binanceSignTransaction"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"verifyMessage",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"verifyMessage"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"wipeDevice",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"wipeDevice"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"applyFlags",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"applyFlags"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"applySettings",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"applySettings"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"backupDevice",(function(){return s.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.awrap((0,E.call)({method:"backupDevice"}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))})),(0,i.default)(b,"changePin",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"changePin"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"firmwareUpdate",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"firmwareUpdate"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"recoveryDevice",(function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.awrap((0,E.call)(y({method:"recoveryDevice"},e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),(0,i.default)(b,"dispose",(function(){(0,E.dispose)()})),(0,i.default)(b,"cancel",(function(e){(0,E.cancel)(e)})),(0,i.default)(b,"renderWebUSBButton",(function(e){(0,E.renderWebUSBButton)(e)})),(0,i.default)(b,"disableWebUSB",(function(){return s.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:(0,E.disableWebUSB)();case 1:case"end":return e.stop()}}))}));var w=b;t.default=w},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(39),o=n(25);t.__esModule=!0,t.disableWebUSB=t.requestLogin=t.customMessage=t.getSettings=t.renderWebUSBButton=t.uiResponse=t.call=t.init=t.cancel=t.dispose=t.manifest=t.eventEmitter=void 0;var a=o(n(48)),s=o(n(0)),i=o(n(47)),c=o(n(173)),u=r(n(176)),l=o(n(181)),f=n(182),p=n(183),d=r(n(184)),E=n(60),h=r(n(62)),m=r(n(43)),v=r(n(49)),y=r(n(86)),b=r(n(61));r(n(82));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=new i.default;t.eventEmitter=g;var S,T,O=(0,d.init)("[trezor-connect.js]"),x=function(){var e=new c.default(S);return e.on(h.CLOSED,(function(e){u.postMessage({type:h.CLOSED,payload:e?{error:e}:null},!1)})),e};t.manifest=function(e){S=(0,p.parse)({manifest:e})};var N=function(){u.dispose(),T&&T.close()};t.dispose=N;t.cancel=function(e){T&&T.emit(h.CLOSED,e)};var R=function(e){if(e.origin===u.origin){var t=(0,f.parseMessage)(e.data),n=t.event,r=t.type,o=t.payload,a=t.id||0;switch(O.log("handleMessage",t),n){case E.RESPONSE_EVENT:u.messagePromises[a]?(u.messagePromises[a].resolve({id:a,success:t.success,payload:o}),delete u.messagePromises[a]):O.warn("Unknown message id "+a);break;case E.DEVICE_EVENT:case E.TRANSPORT_EVENT:case E.BLOCKCHAIN_EVENT:g.emit(n,t),g.emit(r,o);break;case E.UI_EVENT:if(r===m.BOOTSTRAP){u.clearTimeout();break}r===m.LOADED&&u.initPromise.resolve(),r===m.ERROR&&u.initPromise.reject(new Error(o.error)),g.emit(n,t),g.emit(r,o);break;default:O.log("Undefined message",n,e)}}},I=function(e){return s.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e={}),!u.instance){t.next=3;break}throw y.IFRAME_INITIALIZED;case 3:if(S||(S=(0,p.parse)(e)),S.manifest){t.next=6;break}throw y.MANIFEST_NOT_SET;case 6:if(!S.lazyLoad){t.next=9;break}return S.lazyLoad=!1,t.abrupt("return");case 9:return T||(T=x()),O.enabled=S.debug,window.addEventListener("message",R),window.addEventListener("beforeunload",N),t.next=15,s.default.awrap(u.init(S));case 15:case"end":return t.stop()}}))};t.init=I;var A=function(e){var t;return s.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(u.instance||u.timeout){n.next=15;break}if((S=(0,p.parse)(S)).manifest){n.next=4;break}return n.abrupt("return",{success:!1,payload:{error:y.MANIFEST_NOT_SET.message}});case 4:return T||(T=x()),T.request(!0),n.prev=6,n.next=9,s.default.awrap(I(S));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(6),T&&T.close(),n.abrupt("return",{success:!1,payload:{error:n.t0}});case 15:if(!u.timeout){n.next=19;break}return n.abrupt("return",{success:!1,payload:{error:y.NO_IFRAME.message}});case 19:if(!u.error){n.next=21;break}return n.abrupt("return",{success:!1,payload:{error:u.error}});case 21:return S.popup&&T&&T.request(),n.prev=22,n.next=25,s.default.awrap(u.postMessage({type:m.CALL,payload:e}));case 25:if(!(t=n.sent)){n.next=31;break}return t.payload.error!==y.DEVICE_CALL_IN_PROGRESS.message&&T&&T.unlock(),n.abrupt("return",t);case 31:return T&&T.unlock(),n.abrupt("return",{success:!1,payload:{error:"No response from iframe"}});case 33:n.next=39;break;case 35:return n.prev=35,n.t1=n.catch(22),O.error("__call error",n.t1),n.abrupt("return",n.t1);case 39:case"end":return n.stop()}}),null,null,[[6,11],[22,35]])};t.call=A;var L=function(e){u.postMessage({event:E.UI_EVENT,type:v.CUSTOM_MESSAGE_RESPONSE,payload:e})};t.uiResponse=function(e){u.postMessage(_({event:E.UI_EVENT},e))};t.renderWebUSBButton=function(e){(0,l.default)(e,S.webusbSrc,u.origin)};t.getSettings=function(){return s.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.instance){e.next=2;break}return e.abrupt("return",{success:!1,payload:{error:"Iframe not initialized yet, you need to call TrezorConnect.init or any other method first."}});case 2:return e.next=4,s.default.awrap(A({method:"getSettings"}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}))};t.customMessage=function(e){var t,n,r;return s.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:if("function"==typeof e.callback){o.next=2;break}return o.abrupt("return",{success:!1,payload:{error:'Parameter "callback" is not a function'}});case 2:return t=e.callback,n=function(e){var n,r;return s.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(n=e.data)||n.type!==v.CUSTOM_MESSAGE_REQUEST){o.next=6;break}return o.next=4,s.default.awrap(t(n.payload));case 4:r=o.sent,L(r||{message:"release"});case 6:case"end":return o.stop()}}))},window.addEventListener("message",n,!1),o.next=7,s.default.awrap(A(_({method:"customMessage"},e,{callback:null})));case 7:return r=o.sent,window.removeEventListener("message",n),o.abrupt("return",r);case 10:case"end":return o.stop()}}))};t.requestLogin=function(e){var t,n,r;return s.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:if("function"!=typeof e.callback){o.next=11;break}return t=e.callback,n=function(e){var n,r;return s.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(n=e.data)||n.type!==v.LOGIN_CHALLENGE_REQUEST){o.next=12;break}return o.prev=2,o.next=5,s.default.awrap(t());case 5:r=o.sent,u.postMessage({event:E.UI_EVENT,type:v.LOGIN_CHALLENGE_RESPONSE,payload:r}),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),u.postMessage({event:E.UI_EVENT,type:v.LOGIN_CHALLENGE_RESPONSE,payload:o.t0.message});case 12:case"end":return o.stop()}}),null,null,[[2,9]])},window.addEventListener("message",n,!1),o.next=6,s.default.awrap(A(_({method:"requestLogin"},e,{asyncChallenge:!0,callback:null})));case 6:return r=o.sent,window.removeEventListener("message",n),o.abrupt("return",r);case 11:return o.next=13,s.default.awrap(A(_({method:"requestLogin"},e)));case 13:return o.abrupt("return",o.sent);case 14:case"end":return o.stop()}}))};t.disableWebUSB=function(){u.postMessage({event:E.UI_EVENT,type:b.DISABLE_WEBUSB})}},function(e,t,n){"use strict";var r=n(39),o=n(25);t.__esModule=!0,t.default=void 0;var a=o(n(32)),s=o(n(83)),i=o(n(48)),c=o(n(47)),u=r(n(62)),l=r(n(43)),f=r(n(49)),p=n(174),d=n(84),E=n(85),h=function(e){function t(t){var n;return n=e.call(this)||this,(0,i.default)((0,a.default)(n),"requestTimeout",0),(0,i.default)((0,a.default)(n),"closeInterval",0),(0,i.default)((0,a.default)(n),"extensionTabId",0),n.settings=t,n.origin=(0,d.getOrigin)(t.popupSrc),n.handleMessage=n.handleMessage.bind((0,a.default)(n)),n.iframeHandshake=(0,E.create)(l.LOADED),"webextension"===n.settings.env&&(n.handleExtensionConnect=n.handleExtensionConnect.bind((0,a.default)(n)),n.handleExtensionMessage=n.handleExtensionMessage.bind((0,a.default)(n)),chrome.runtime.onConnect.addListener(n.handleExtensionConnect)),window.addEventListener("message",n.handleMessage,!1),n}(0,s.default)(t,e);var n=t.prototype;return n.request=function(e){var t=this;if(void 0===e&&(e=!1),this.locked)this._window&&("webextension"===this.settings.env?chrome.tabs.update(this._window.id,{active:!0}):this._window.focus());else{var n=this.open.bind(this);if(this.locked=!0,this.settings.supportedBrowser){var r=e||"webextension"===this.settings.env?1:850;this.requestTimeout=window.setTimeout((function(){t.requestTimeout=0,n(e)}),r)}else n()}},n.cancel=function(){this.close()},n.unlock=function(){this.locked=!1},n.open=function(e){var t=this,n=this.settings.popupSrc;this.settings.supportedBrowser?(this.openWrapper(e?n+"#loading":n),this.closeInterval=window.setInterval((function(){t._window&&("webextension"===t.settings.env?chrome.tabs.get(t._window.id,(function(e){e||(t.close(),t.emit(u.CLOSED))})):t._window.closed&&(t.close(),t.emit(u.CLOSED)))}),500),this.openTimeout=window.setTimeout((function(){t.close(),(0,p.showPopupRequest)(t.open.bind(t),(function(){t.emit(u.CLOSED)}))}),3e3)):this.openWrapper(n+"#unsupported")},n.openWrapper=function(e){var t=this;"webextension"===this.settings.env?chrome.windows.getCurrent(null,(function(n){"normal"!==n.type?chrome.windows.create({url:e},(function(e){chrome.tabs.query({windowId:e.id,active:!0},(function(e){t._window=e[0]}))})):chrome.tabs.query({currentWindow:!0,active:!0},(function(n){t.extensionTabId=n[0].id,chrome.tabs.create({url:e,index:n[0].index+1},(function(e){t._window=e}))}))})):"electron"===this.settings.env?this._window=window.open(e,"modal"):(this._window=window.open("","_blank"),this._window&&(this._window.location.href=e))},n.handleExtensionConnect=function(e){"trezor-connect"===e.name&&(!this._window||this._window&&this._window.id!==e.sender.tab.id?e.disconnect():(window.clearTimeout(this.openTimeout),this.extensionPort=e,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))},n.handleExtensionMessage=function(e){var t=this;if(this.extensionPort){var n=e.data;if(n&&"object"==typeof n)if(n.type===u.ERROR){var r=n.payload&&"string"==typeof n.payload.error?n.payload.error:null;this.emit(u.CLOSED,r?"Popup error: "+r:null),this.close()}else n.type===u.LOADED?this.iframeHandshake.promise.then((function(){t.extensionPort.postMessage({type:u.INIT,payload:{settings:t.settings}})})):n.type===u.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},(function(e){chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},(function(e){}))})):n.type===u.CLOSE_WINDOW&&(this.emit(u.CLOSED),this.close())}},n.handleMessage=function(e){var t=this,n=e.data;if((0,d.getOrigin)(e.origin)===this.origin&&n&&"object"==typeof n)if(n.type===l.LOADED)this.iframeHandshake.resolve();else if(n.type===u.BOOTSTRAP)window.clearTimeout(this.openTimeout);else if(n.type===u.ERROR&&this._window){var r=n.payload&&"string"==typeof n.payload.error?n.payload.error:null;this.emit(u.CLOSED,r?"Popup error: "+r:null),this.close()}else n.type===u.LOADED?this.iframeHandshake.promise.then((function(){t._window.postMessage({type:u.INIT,payload:{settings:t.settings}},t.origin)})):n.type!==u.CANCEL_POPUP_REQUEST&&n.type!==f.CLOSE_UI_WINDOW||this.close()},n.close=function(){if(this.locked=!1,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(window.clearTimeout(this.openTimeout),this.openTimeout=0),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=null),this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0),this._window){if("webextension"===this.settings.env)chrome.tabs.remove(this._window.id,(function(){chrome.runtime.lastError})),chrome.runtime.lastError;else this._window.close();this._window=null}},n.postMessage=function(e){var t=this;if(!this.requestTimeout)return!this._window&&e.type!==f.REQUEST_UI_WINDOW&&this.openTimeout?(this.close(),void(0,p.showPopupRequest)(this.open.bind(this),(function(){t.emit(u.CLOSED)}))):void(this._window&&this._window.postMessage(e,this.origin))},n.onBeforeUnload=function(){this.close()},t}(c.default);t.default=h},function(e,t,n){"use strict";t.__esModule=!0,t.showPopupRequest=void 0;var r="TrezorConnectInteractionLayer";t.showPopupRequest=function(e,t){if(!document.getElementById(r)){var n=document.createElement("div");n.id=r,n.className="trezorconnect-container",n.innerHTML='\n    <div class="trezorconnect-container" id="TrezorConnectInteractionLayer">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to “Continue” to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n',document.body&&document.body.appendChild(n),n.getElementsByClassName("trezorconnect-open")[0].onclick=function(){e(),document.body&&document.body.removeChild(n)},n.getElementsByClassName("trezorconnect-close")[0].onclick=function(){t(),document.body&&document.body.removeChild(n)}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return u})),n.d(t,"Request",(function(){return m})),n.d(t,"Response",(function(){return y})),n.d(t,"DOMException",(function(){return w})),n.d(t,"fetch",(function(){return _}));var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=l(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=i(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=i(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var n,r,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),h.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},E.call(m.prototype),E.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];y.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})};var w=self.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function _(e,t){return new Promise((function(n,o){var a=new m(e,t);if(a.signal&&a.signal.aborted)return o(new w("Aborted","AbortError"));var s=new XMLHttpRequest;function i(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;n(new y(o,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new w("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",i),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",i)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=u,self.Request=m,self.Response=y)},function(e,t,n){"use strict";var r=n(39),o=n(25);t.__esModule=!0,t.clearTimeout=t.dispose=t.postMessage=t.init=t.messagePromises=t.error=t.timeout=t.initPromise=t.origin=t.instance=void 0;var a,s,i=o(n(0)),c=n(85),u=r(n(43)),l=n(86),f=n(84),p=o(n(180));t.instance=a,t.origin=s;var d=(0,c.create)();t.initPromise=d;var E,h=0;t.timeout=h,t.error=E;var m=0,v={};t.messagePromises=v;t.init=function(e){var n,r,o,p,E;return i.default.async((function(m){for(;;)switch(m.prev=m.next){case 0:return t.initPromise=d=(0,c.create)(),(n=document.getElementById("trezorconnect"))?t.instance=a=n:(t.instance=a=document.createElement("iframe"),a.frameBorder="0",a.width="0px",a.height="0px",a.style.position="absolute",a.style.display="none",a.style.border="0px",a.style.width="0px",a.style.height="0px",a.id="trezorconnect"),"web"===e.env?(o=e.manifest?JSON.stringify(e.manifest):"undefined",p="&version="+e.version+"&manifest="+encodeURIComponent(btoa(JSON.stringify(o))),r=e.iframeSrc+"?"+Date.now()+p):r=e.iframeSrc,a.setAttribute("src",r),e.webusb&&a.setAttribute("allow","usb"),t.origin=s=(0,f.getOrigin)(a.src),t.timeout=h=window.setTimeout((function(){d.reject(l.IFRAME_TIMEOUT)}),1e4),E=function(){if(a){try{var t=a.contentWindow.location.origin;if(!t||"null"===t)return void b()}catch(e){}var n;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener((function(){})),n=chrome.runtime.id),a.contentWindow.postMessage({type:u.INIT,payload:{settings:e,extension:n}},s),a.onload=void 0}else d.reject(l.IFRAME_BLOCKED)},a.attachEvent?a.attachEvent("onload",E):a.onload=E,document.body&&(document.body.appendChild(a),y()),m.prev=11,m.next=14,i.default.awrap(d.promise);case 14:m.next=20;break;case 16:throw m.prev=16,m.t0=m.catch(11),a&&(a.parentNode&&a.parentNode.removeChild(a),t.instance=a=null),m.t0.message||m.t0;case 20:return m.prev=20,window.clearTimeout(h),t.timeout=h=0,m.finish(20);case 24:case"end":return m.stop()}}),null,null,[[11,16,20,24]])};var y=function(){if(!a)throw l.IFRAME_BLOCKED;var e=a.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id","TrezorConnectStylesheet"),n.styleSheet?(n.styleSheet.cssText=p.default,t.appendChild(n)):(n.appendChild(document.createTextNode(p.default)),t.append(n))},b=function(){window.clearTimeout(h),t.error=E=l.IFRAME_BLOCKED.message,w(),d.reject(l.IFRAME_BLOCKED)};t.postMessage=function(e,t){if(void 0===t&&(t=!0),!a)throw l.IFRAME_BLOCKED;return t?(m++,e.id=m,v[m]=(0,c.create)(),a.contentWindow.postMessage(e,s),v[m].promise):(a.contentWindow.postMessage(e,s),null)};var w=function(){if(a&&a.parentNode)try{a.parentNode.removeChild(a)}catch(e){}t.instance=a=null,t.timeout=h=0};t.dispose=w;t.clearTimeout=function(){window.clearTimeout(h)}},function(e,t,n){var r=n(26),o=n(51),a=n(178),s=n(179);function i(t){var n="function"==typeof Map?new Map:void 0;return e.exports=i=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return s(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},i(t)}e.exports=i},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(51);function o(t,n,a){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=o=function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return n&&r(a,n.prototype),a}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t,n){var r=e||".trezor-webusb-button",o=document.querySelectorAll(r),a=t+"?"+Date.now();o.forEach((function(e){if(e.getElementsByTagName("iframe").length<1){var t=e.getBoundingClientRect(),r=document.createElement("iframe");r.frameBorder="0",r.width=Math.round(t.width)+"px",r.height=Math.round(t.height)+"px",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.zIndex="1",r.setAttribute("allow","usb"),r.setAttribute("scrolling","no"),r.onload=function(){r.contentWindow.postMessage({},n)},r.src=a,e.append(r)}}))};t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.parseMessage=void 0;t.parseMessage=function(e){var t={event:e.event,type:e.type,payload:e.payload};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t}},function(e,t,n){"use strict";var r=n(25);t.__esModule=!0,t.parse=t.getEnv=t.DEFAULT_PRIORITY=void 0;var o=r(n(48));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s="8.0.10".split(".").map((function(e){return parseInt(e)})),i="https://connect.trezor.io/"+(s[0]+(s[1]>0?"."+s[1]:"")+"/");t.DEFAULT_PRIORITY=2;var c={configSrc:"./data/config.json",version:"8.0.10",debug:!1,origin:null,priority:2,trustedHost:!1,connectSrc:i,iframeSrc:i+"iframe.html",popup:!0,popupSrc:i+"popup.html",webusbSrc:i+"webusb.html",transportReconnect:!1,webusb:!0,pendingTransportEvent:!0,supportedBrowser:"undefined"==typeof navigator||!/Trident|MSIE|Edge/.test(navigator.userAgent),extension:null,manifest:null,env:"web",lazyLoad:!1,timestamp:(new Date).getTime()},u=function(){if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};t.getEnv=u;t.parse=function(e){if(!e)return c;var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c);return Object.prototype.hasOwnProperty.call(e,"debug")&&(Array.isArray(e),"boolean"==typeof e.debug?n.debug=e.debug:"string"==typeof e.debug&&(n.debug="true"===e.debug)),"string"==typeof e.connectSrc?n.connectSrc=e.connectSrc:"undefined"!=typeof window&&"string"==typeof window.__TREZOR_CONNECT_SRC&&(n.connectSrc=window.__TREZOR_CONNECT_SRC),n.iframeSrc=n.connectSrc+"iframe.html",n.popupSrc=n.connectSrc+"popup.html",n.webusbSrc=n.connectSrc+"webusb.html","boolean"==typeof e.transportReconnect&&(n.transportReconnect=e.transportReconnect),"boolean"==typeof e.webusb&&(n.webusb=e.webusb),"boolean"==typeof e.popup&&(n.popup=e.popup),"boolean"==typeof e.lazyLoad&&(n.lazyLoad=e.lazyLoad),"boolean"==typeof e.pendingTransportEvent&&(n.pendingTransportEvent=e.pendingTransportEvent),"undefined"!=typeof window&&window.location&&"file:"===window.location.protocol&&(n.origin="file://"+window.location.pathname,n.webusb=!1),"string"==typeof e.extension&&(n.extension=e.extension),"string"==typeof e.env?n.env=e.env:n.env=u(),"number"==typeof e.timestamp&&(n.timestamp=e.timestamp),"object"==typeof e.manifest&&(n.manifest="string"!=typeof(t=e.manifest).email?null:"string"!=typeof t.appUrl?null:{email:t.email,appUrl:t.appUrl}),c=n}},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.popupConsole=t.enableByPrefix=t.getLog=t.enable=t.init=t.default=void 0;var n={DescriptorStream:"color: #77ab59",DeviceList:"color: #36802d",Device:"color: #bada55",Core:"color: #c9df8a",IFrame:"color: #FFFFFF; background: #f4a742;",Popup:"color: #f48a00"},r=function(){function e(e,t){void 0===t&&(t=!1),this.prefix=e,this.enabled=t,this.messages=[],this.css=n[e]||"color: #000000; background: #FFFFFF;"}var t=e.prototype;return t.addMessage=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];this.messages.push({level:e,prefix:t,message:r,timestamp:(new Date).getTime()})},t.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["log",this.prefix].concat(t)),this.enabled)&&(r=console).log.apply(r,[this.prefix].concat(t))},t.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["error",this.prefix].concat(t)),this.enabled)&&(r=console).error.apply(r,[this.prefix].concat(t))},t.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["warn",this.prefix].concat(t)),this.enabled)&&(r=console).warn.apply(r,[this.prefix].concat(t))},t.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["debug",this.prefix].concat(t)),this.enabled)&&(r=console).log.apply(r,["%c"+this.prefix,this.css].concat(t))},e}();t.default=r;var o={};t.init=function(e,t){var n=new r(e,"boolean"==typeof t&&t);return o[e]=n,n};t.enable=function(e){for(var t=0,n=Object.keys(o);t<n.length;t++){var r=n[t];o[r].enabled=e}};t.getLog=function(e){for(var t=[],n=0,r=Object.keys(o);n<r.length;n++){var a=r[n];t=t.concat(o[a].messages)}return t.sort((function(e,t){return e.timestamp-t.timestamp})),t};t.enableByPrefix=function(e,t){o[e]&&(o[e].enabled=t)};t.popupConsole=function(t,n){var r=e.console,o={error:r.error,info:r.info,debug:r.debug,log:r.log},a=[],s=function(e,o){return function(){for(var s=(new Date).toUTCString(),i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return a.push([o,s].concat(c)),n.apply(void 0,[{type:t,level:o,time:s,args:JSON.stringify(c)}]),e.apply(r,c)}};for(var i in o)r[i]=s(o[i],i)}}).call(this,n(7))},function(e,t,n){"use strict";n(39)(n(81))},function(e,t,n){},function(e,t,n){"use strict";var r=n(41),o=n(1),a=n(31),s=n(26),i=n(32),c=n(33),u=n(87),l=n(63),f=function(e){function t(e){var n;return o(this,t),delete(n=a(this,s(t).call(this,p,e))).network,n.fee?n.fee=Number(n.fee)/1e7:n.fee=100*n.operations.length,(n.minTime||n.maxTime)&&(n.timebounds={minTime:null==n.minTime?null:n.minTime,maxTime:null==n.maxTime?null:n.maxTime},delete n.minTime,delete n.maxTime),n.operations.forEach((function(e){if("allowTrust"===e.type)e.assetType=e.assetCode.length<=4?1:2,e.authorize=e.authorize?1:0;else if("changeTrust"===e.type)e.limit||(e.limit="9223372036854775807"),e.line=e.asset,delete e.asset;else if("createPassiveSellOffer"===e.type)e.type="createPassiveOffer";else if("manageSellOffer"===e.type)e.type="manageOffer";else if("manageBuyOffer"===e.type)d("operation manageBuyOffer");else if("setOptions"===e.type&&e.signer&&0===e.signer.type){var t=l.Keypair.fromPublicKey(e.signer.key);e.signer.key=t.rawPublicKey().toString("hex")}})),console.log("Trezor TX",JSON.stringify(i(n),null,2)),n}return c(t,e),t}(n(188)),p={};function d(e){throw new Error("This feature is not supported yet: ".concat(e,"."))}p.amount=function(e){return Number(1e7*e).toFixed(0)},p.asset=function(e){return"XLM"!==e.code||e.issuer?(e.type=e.code.length<=4?1:2,e):null},p.assetsArray=function(e){return e.map(p.asset)},p.buffer=function(e){return e.value?"base64"===e.type?u.from(e.value,"base64").toString("hex"):u.from(e.value).toString("hex"):""},p.date=function(e){return Number(new Date(e))/1e3},p.memo=function(e){return"text"===e.type?(e.type=1,e.text=e.value):"base64"===e.type?(e.type=1,e.text=u.from(e.value,"base64").toString("utf8"),e.text.match("\0")&&d("binary text memo including NULL characters")):"id"===e.type?(e.type=2,e.id=e.value):"hash"===e.type?(e.type=3,e.hash=e.value):"return"===e.type&&(e.type=4,e.hash=e.value),delete e.value,e},p.price=function(e){return"object"!==r(e)?{n:Number(e),d:1}:e},p.sequence=function(e){return Number(e)},p.signer=function(e){return e.key=e.value,delete e.value,"key"===e.type?e.type=0:"tx"===e.type?e.type=1:"hash"===e.type&&(e.type=2),e},e.exports=f},function(e,t,n){"use strict";var r=n(1),o=n(50),a=o.CosmicLink,s=o.specs,i={field:function(e,t,n){var r=s.fieldType[t];return e[r]?e[r](n):n},odesc:function(e,t){var n={};for(var r in t)n[r]=i.field(e,r,t[r]);return n}};e.exports=function e(t,n){var o=this;r(this,e);var c=new a(n).tdesc;s.transactionOptionalFields.forEach((function(e){var n=c[e];n&&(o[e]=i.field(t,e,n))})),this.operations=c.operations.map((function(e){return i.odesc(t,e)}))}}])]);
//# sourceMappingURL=vendors~trezor.js.map